q()
install.packages("tm")
? readPDF
library(tm)
? readPDF
getwd()
library(RQuantLib)
library(quantmod)
SPcompany = read.table("SP500 companies.csv", header=T, sep=",")
colnames(SPcompany)
table(SPcompany[,"GICS.Sector"])  # summary of the # of companies in each sector
Tickers   = as.vector(SPcompany[,1])  # get the 500 tickers
Tickers[which(Tickers=="BRK.B")] = "BRK-B"  # Yahoo finance use "BRK-B" instead of "BRK.B"
Tickers[which(Tickers=="BF.B")] = "BF-B"  # Yahoo finance use "BF-B" instead of "BF.B"
#start = "2013-01-02"
start = "2006-01-02"
from  = as.Date(start, order="ymd")
to    = Sys.Date()
#Ndays = businessDaysBetween("UnitedStates", from, to)  # number of business days
data = get(getSymbols("QQQ", from = from, adjust=TRUE))
Ndays = length(data[,1])
dates = index(data)
# Initilization
Open = rep(NA, Ndays); Low = rep(NA, Ndays) ;High = rep(NA, Ndays); Close = rep(NA, Ndays); Volume = rep(NA, Ndays)
# get data
data = get(getSymbols("QQQ", from = from, adjust=TRUE))
temp0 = 0*t(data[,1])
for (i in 1:500)
{
data = get(getSymbols(Tickers[i], from = from, adjust=TRUE))
data = data[dates,]
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,1])
Open   = rbind(Open, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,2])
High   = rbind(High, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,3])
Low    = rbind(Low, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,4])
Close  = rbind(Close, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,5])
Volume = rbind(Volume, temp);
}
library(RQuantLib)
library(quantmod)
SPcompany = read.table("SP500 companies.csv", header=T, sep=",")
colnames(SPcompany)
table(SPcompany[,"GICS.Sector"])  # summary of the # of companies in each sector
Tickers   = as.vector(SPcompany[,1])  # get the 500 tickers
Tickers[which(Tickers=="BRK.B")] = "BRK-B"  # Yahoo finance use "BRK-B" instead of "BRK.B"
Tickers[which(Tickers=="BF.B")] = "BF-B"  # Yahoo finance use "BF-B" instead of "BF.B"
#start = "2013-01-02"
start = "2006-01-02"
from  = as.Date(start, order="ymd")
to    = Sys.Date()
#Ndays = businessDaysBetween("UnitedStates", from, to)  # number of business days
data = get(getSymbols("QQQ", from = from, adjust=TRUE))
Ndays = length(data[,1])
dates = index(data)
# Initilization
Open = rep(NA, Ndays); Low = rep(NA, Ndays) ;High = rep(NA, Ndays); Close = rep(NA, Ndays); Volume = rep(NA, Ndays)
# get data
data = get(getSymbols("QQQ", from = from, adjust=TRUE))
temp0 = 0*t(data[,1])
for (i in 1:500)
{
data = get(getSymbols(Tickers[i], from = from, adjust=TRUE))
data = data[dates,]
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,1])
Open   = rbind(Open, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,2])
High   = rbind(High, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,3])
Low    = rbind(Low, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,4])
Close  = rbind(Close, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,5])
Volume = rbind(Volume, temp);
}
Tickers
library(RQuantLib)
library(quantmod)
SPcompany = read.table("SP500 companies.csv", header=T, sep=",")
colnames(SPcompany)
table(SPcompany[,"GICS.Sector"])  # summary of the # of companies in each sector
Tickers   = as.vector(SPcompany[,1])  # get the 500 tickers
Tickers[which(Tickers=="BRK.B")] = "BRK-B"  # Yahoo finance use "BRK-B" instead of "BRK.B"
Tickers[which(Tickers=="BF.B")] = "BF-B"  # Yahoo finance use "BF-B" instead of "BF.B"
# Get working directory, where your scripts, data, output files are saved
getwd()
# Name my working directory, an example
myWD = "W:/Data/IntroR"
# Set my working directory as myWD, an example
setwd(myWD)
# Show the names of the files, folders under the directory 'myWD', an exmaple
dir(myWD)
library(RQuantLib)
library(quantmod)
SPcompany = read.table("SP500 companies.csv", header=T, sep=",")
colnames(SPcompany)
table(SPcompany[,"GICS.Sector"])  # summary of the # of companies in each sector
Tickers   = as.vector(SPcompany[,1])  # get the 500 tickers
Tickers[which(Tickers=="BRK.B")] = "BRK-B"  # Yahoo finance use "BRK-B" instead of "BRK.B"
Tickers[which(Tickers=="BF.B")] = "BF-B"  # Yahoo finance use "BF-B" instead of "BF.B"
#start = "2013-01-02"
start = "2006-01-02"
from  = as.Date(start, order="ymd")
to    = Sys.Date()
#Ndays = businessDaysBetween("UnitedStates", from, to)  # number of business days
data = get(getSymbols("QQQ", from = from, adjust=TRUE))
Ndays = length(data[,1])
dates = index(data)
# Initilization
Open = rep(NA, Ndays); Low = rep(NA, Ndays) ;High = rep(NA, Ndays); Close = rep(NA, Ndays); Volume = rep(NA, Ndays)
# get data
data = get(getSymbols("QQQ", from = from, adjust=TRUE))
temp0 = 0*t(data[,1])
for (i in 1:500)
{
data = get(getSymbols(Tickers[i], from = from, adjust=TRUE))
data = data[dates,]
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,1])
Open   = rbind(Open, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,2])
High   = rbind(High, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,3])
Low    = rbind(Low, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,4])
Close  = rbind(Close, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,5])
Volume = rbind(Volume, temp);
}
Open=Open[-1,];High=High[-1,];Low=Low[-1,];Close=Close[-1,];Volume=Volume[-1,]
rownames(Open)=t(Tickers);rownames(High)=t(Tickers);rownames(Low)=t(Tickers);rownames(Close)=t(Tickers);rownames(Volume)=t(Tickers)
i
data = get(getSymbols(Tickers[i], from = from, adjust=TRUE))
Tickers[i]
SPcompany = read.table("SP500 companies.csv", header=T, sep=",")
colnames(SPcompany)
table(SPcompany[,"GICS.Sector"])  # summary of the # of companies in each sector
Tickers   = as.vector(SPcompany[,1])  # get the 500 tickers
Tickers[which(Tickers=="BRK.B")] = "BRK-B"  # Yahoo finance use "BRK-B" instead of "BRK.B"
Tickers[which(Tickers=="BF.B")] = "BF-B"  # Yahoo finance use "BF-B" instead of "BF.B"
Tickers
#start = "2013-01-02"
start = "2006-01-02"
from  = as.Date(start, order="ymd")
to    = Sys.Date()
#Ndays = businessDaysBetween("UnitedStates", from, to)  # number of business days
data = get(getSymbols("QQQ", from = from, adjust=TRUE))
Ndays = length(data[,1])
dates = index(data)
# Initilization
Open = rep(NA, Ndays); Low = rep(NA, Ndays) ;High = rep(NA, Ndays); Close = rep(NA, Ndays); Volume = rep(NA, Ndays)
# get data
data = get(getSymbols("QQQ", from = from, adjust=TRUE))
temp0 = 0*t(data[,1])
for (i in 1:500)
{
data = get(getSymbols(Tickers[i], from = from, adjust=TRUE))
data = data[dates,]
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,1])
Open   = rbind(Open, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,2])
High   = rbind(High, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,3])
Low    = rbind(Low, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,4])
Close  = rbind(Close, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,5])
Volume = rbind(Volume, temp);
}
Open=Open[-1,];High=High[-1,];Low=Low[-1,];Close=Close[-1,];Volume=Volume[-1,]
rownames(Open)=t(Tickers);rownames(High)=t(Tickers);rownames(Low)=t(Tickers);rownames(Close)=t(Tickers);rownames(Volume)=t(Tickers)
i
Tickers[i]
library(RQuantLib)
library(quantmod)
SPcompany = read.table("SP500 companies.csv", header=T, sep=",")
colnames(SPcompany)
table(SPcompany[,"GICS.Sector"])  # summary of the # of companies in each sector
Tickers   = as.vector(SPcompany[,1])  # get the 500 tickers
Tickers[which(Tickers=="BRK.B")] = "BRK-B"  # Yahoo finance use "BRK-B" instead of "BRK.B"
Tickers[which(Tickers=="BF.B")] = "BF-B"  # Yahoo finance use "BF-B" instead of "BF.B"
#start = "2013-01-02"
start = "2006-01-02"
from  = as.Date(start, order="ymd")
to    = Sys.Date()
#Ndays = businessDaysBetween("UnitedStates", from, to)  # number of business days
data = get(getSymbols("QQQ", from = from, adjust=TRUE))
Ndays = length(data[,1])
dates = index(data)
# Initilization
Open = rep(NA, Ndays); Low = rep(NA, Ndays) ;High = rep(NA, Ndays); Close = rep(NA, Ndays); Volume = rep(NA, Ndays)
# get data
data = get(getSymbols("QQQ", from = from, adjust=TRUE))
temp0 = 0*t(data[,1])
for (i in 1:500)
{
data = get(getSymbols(Tickers[i], from = from, adjust=TRUE))
data = data[dates,]
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,1])
Open   = rbind(Open, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,2])
High   = rbind(High, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,3])
Low    = rbind(Low, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,4])
Close  = rbind(Close, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,5])
Volume = rbind(Volume, temp);
}
Open=Open[-1,];High=High[-1,];Low=Low[-1,];Close=Close[-1,];Volume=Volume[-1,]
rownames(Open)=t(Tickers);rownames(High)=t(Tickers);rownames(Low)=t(Tickers);rownames(Close)=t(Tickers);rownames(Volume)=t(Tickers)
i
Tickers[i]
SPcompany[i,1]
SPcompany[i,]
SPcompany[i+1,]
SPcompany[i+2,]
SPcompany[i+10,]
SPcompany[i-1,]
SPcompany = read.table("SP500 companies.csv", header=T, sep=",")
dim(SPcompany)
SPcompany = read.table("SP500 companies.csv", header=T, sep=",")
SPcompany = read.csv("SP500 companies.csv", header=T, sep=",")
SPcompany[1:5,]
dim(SPcompany)
SPcompany = read.csv("SP500 companies.csv", header=T, sep=",")
colnames(SPcompany)
table(SPcompany[,"GICS.Sector"])  # summary of the # of companies in each sector
Tickers   = as.vector(SPcompany[,1])  # get the 500 tickers
Tickers[which(Tickers=="BRK.B")] = "BRK-B"  # Yahoo finance use "BRK-B" instead of "BRK.B"
Tickers[which(Tickers=="BF.B")] = "BF-B"  # Yahoo finance use "BF-B" instead of "BF.B"
#start = "2013-01-02"
start = "2006-01-02"
from  = as.Date(start, order="ymd")
to    = Sys.Date()
#Ndays = businessDaysBetween("UnitedStates", from, to)  # number of business days
data = get(getSymbols("QQQ", from = from, adjust=TRUE))
Ndays = length(data[,1])
dates = index(data)
# Initilization
Open = rep(NA, Ndays); Low = rep(NA, Ndays) ;High = rep(NA, Ndays); Close = rep(NA, Ndays); Volume = rep(NA, Ndays)
# get data
data = get(getSymbols("QQQ", from = from, adjust=TRUE))
temp0 = 0*t(data[,1])
for (i in 1:dim(SPcompany)[1])
{
data = get(getSymbols(Tickers[i], from = from, adjust=TRUE))
data = data[dates,]
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,1])
Open   = rbind(Open, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,2])
High   = rbind(High, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,3])
Low    = rbind(Low, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,4])
Close  = rbind(Close, temp);
temp   = temp0;temp[Ndays-length(data[,1])+1:Ndays]=t(data[,5])
Volume = rbind(Volume, temp);
}
Open=Open[-1,];High=High[-1,];Low=Low[-1,];Close=Close[-1,];Volume=Volume[-1,]
rownames(Open)=t(Tickers);rownames(High)=t(Tickers);rownames(Low)=t(Tickers);rownames(Close)=t(Tickers);rownames(Volume)=t(Tickers)
i
getwd()
View(Open)
dim(Open)
names(Open)
colnames(Open)
save(Open, High, Low, Close, Volume, file="SP500 company data 2006.RData")
